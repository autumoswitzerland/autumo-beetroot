<div class="users form large-12 medium-12 columns content log-container">

	<div class="bg-fader"></div>

    <div class="log-container-2">
        <div class="column large-6 log-left">
            <form method="POST">
                <fieldset>
                    <legend class="login">
                        {$l.users.login.1}
                    </legend>
                    <div class="input text">
                        <label class="login" for="username">
                            {$l.users.login.2}
                        </label>
                        <input type="text" name="username" id="username" />
                    </div>
                    <div class="input password">
                        <label class="login" for="lgpassword1">
                            {$l.users.login.3}
                        </label>
                        <div class="strength_wrapper">
                            <input type="password" name="password" id="lgpassword1" class="strength_input" style="display: block;" oninput="syncPw('lgpassword1');" />
                            <input type="text" name="password" id="lgpassword2" class="strength_input" style="display: none;" oninput="syncPw('lgpassword2');" />
                            <a href="#" class="button_strength" id="lgpwshow" onclick="togglePw('{$l.users.login.11}', '{$l.users.login.4}'); event.preventDefault();">
                                {$l.users.login.4}
                            </a>
                        </div>
                    </div>
                    <br />
                    <a class="login" href="/{$lang}/users/reset">
                        {$l.users.login.5}
                    </a>
                    <br />
                    <br />
                </fieldset>
                <button type="submit">
                    {$l.users.login.6}
                </button>
            </form>
        </div>
        <div class="column large-6 log-right">
            <div class="log-info-box">
                <p>
                    <a href="https://github.com/autumoswitzerland/autumo-beetroot">
                        {$l.users.login.7}
                    </a>
                </p>
                <p>
                    <a href="https://beetroot.autumo.ch">
                        {$l.users.login.8}
                    </a>
                </p>
                <p>
                    <a href="https://www.youtube.com/watch?v=X2_FVYiMnIE">
                        {$l.users.login.9}
                    </a>
                </p>
                <p>
                    <a href="https://products.autumo.ch">
                        {$l.users.login.10}
                    </a>
                </p>
                <img alt="ifaceX" src="/img/beetroot-logo.png" />
            </div>
        </div>
    </div>

</div>

<script>
	// Background fader
	const images = [];
	const styles = getComputedStyle(document.documentElement);
	const count = parseInt(styles.getPropertyValue('--bg-count'), 10);
	for (let i = 1; i <= count; i++) {
	    const url = styles.getPropertyValue(`--bg-${i}`).trim();
	    images.push(url.replace(/^url\(["']?/, '').replace(/["']?\)$/, ''));
	}
	let currentIndex = 0;
	function switchBackground() {
	    const fader = document.querySelector('.bg-fader');
	    const container = document.querySelector('.log-container');
	    const nextIndex = (currentIndex + 1) % images.length;
	    fader.style.backgroundImage = `linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('${images[nextIndex]}')`;
		    fader.style.opacity = 1;
	    fader.style.opacity = 1;
	    setTimeout(() => {
	        container.style.backgroundImage = `linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('${images[nextIndex]}')`;
	        fader.style.opacity = 0;
	        currentIndex = nextIndex;
	    }, 500);
	}
	setInterval(switchBackground, 12000);
</script>
